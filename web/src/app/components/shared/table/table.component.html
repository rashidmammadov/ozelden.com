<table fxFlex mat-table [dataSource]="dataSource" matSort class="mat-elevation-z4">
    <ng-container *ngFor="let column of columns" matColumnDef="{{column.value}}">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.header}} </th>
        <td mat-cell *matCellDef="let element">
            <div fxLayoutGap="8px" fxLayoutAlign="start center">
                <mat-icon *ngIf="!!column.icon" [svgIcon]="element[column.icon]"></mat-icon>
                <span *ngIf="!column.button">{{column.calc ? column.calc(element[column.value]) : element[column.value]}}</span>
                <span *ngIf="!!column.additional">{{column.additional}}</span>
            </div>
            <button *ngIf="!!column.button" mat-icon-button (click)="column.click(element)">
                <mat-icon [svgIcon]="column.button" [matTooltip]="column.header"></mat-icon>
            </button>
        </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
